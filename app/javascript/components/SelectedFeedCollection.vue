<template>
  <aside class="menu column is-2">
    <p class="menu-label">
      Selected Feeds
    </p>
    <span v-if="selectedFeeds.length < 1">
      ã¾ã¨ã‚ãŸã„RSSãƒ•ã‚£ãƒ¼ãƒ‰ã‚’é¸æŠã—ã¦ã€ãƒœãƒ¼ãƒ‰ä½œã£ã¦ã¿ã¾ã›ã‚“ã‹ï¼ŸğŸ¾
    </span>
    <borad-create-form
      :feeds="selectedFeeds"
      @unselectedFeed="handleOnUnselectedFeed(id)"
    />
  </aside>
</template>
<script>
import store from '../packs/store';
import BoradCreateForm from './BoradCreateForm';

export default {
  name: 'SelectedFeedCollection',
  components: { BoradCreateForm },
  data: () => store.state,
  methods: {
    // TODO: ä¸‹è¨˜è­¦å‘Šã«å¯¾å¿œã™ã‚‹ãŸã‚ã«idã‚’è¿”ã™ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã—ã¦ã„ã‚‹ãŒã€è©³ç´°è¦èª¿æŸ»
    // [Vue warn]: Property or method "id" is not defined on the instance but referenced during render
    id: function (id) {
      return id;
    },
    handleOnUnselectedFeed: function (id) {
      const target = this.findSelectedFeed(id);
      this.selectedFeeds.splice(this.selectedFeeds.indexOf(target), 1);
    },
    findSelectedFeed: function (id) {
      return this.selectedFeeds.find(function(feed) { return feed.id === id; });
    }
  }
};
</script>
<style lang="scss">

</style>
